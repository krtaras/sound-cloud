<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script src="https://connect.soundcloud.com/sdk.js"></script>
	<script>
		function getCookie(cname) {
		    var name = cname + "=";
		    var ca = document.cookie.split(';');
		    for(var i=0; i<ca.length; i++) {
		        var c = ca[i];
		        while (c.charAt(0)==' ') c = c.substring(1);
		        if (c.indexOf(name) != -1) return c.substring(name.length,c.length);
		    }
		    return "";
		}
		
		function connect() {
			SC.initialize({
				client_id: 'c0e833fecbe9557b9ba8e676b4786b3a',
				redirect_uri: 'http://krtaras.github.io/sound-cloud/callback.html',
				access_token: getCookie("soundCloudToken"),
	            		scope: 'non-expiring'
			});
	
			if (!SC.isConnected()) {
				SC.connect(function() {
					document.cookie="soundCloudToken=" + SC.accessToken();
					document.getElementById("token").value = SC.accessToken();
				});
			} else {
				document.getElementById("token").value = SC.accessToken();
			}
		}
	</script>
	<style>
		body {
			padding: 5px;
			background-color: #252525;
		}
		.message {
			width: 300px;
			height: 150px;
			line-height: 150px;
			vertical-align: middle;
			text-align: center;
			background-color: rgba(0, 0, 0, 0.3);
			color: white;
			font-size: 23px;
			border: 2px solid #FF6300;
			border-radius: 10px;
		}
	</style>
</head>
<body>
	<div class="message">
		Connecting to Sound Cloud...
	</div>
	<input type="hidden" id="token" name="token" value="" />
	<script>connect();</script>
</body>
</html>
